var app=angular.module("moodApp",["ngRoute"]);app.controller("HeaderController",["$http",function(o){var t=this;o.get("/session").success(function(o){t.current_user=o.current_user})}]),app.controller("MoodController",["$http",function(o){var t=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),e=this;this.happiness=void 0,this.getMood=function(){o.get("/moods").success(function(o){e.current_user_moods=o.moods})},e.getMood(),this.createMood=function(){e.current_user_moods.push({happiness:this.happiness}),o.post("/moods",{authenticity_token:t,mood:{happiness:this.happiness}}).success(function(r){var s=r.mood;o.post("/moods/"+s.id+"/factors",{authenticity_token:t,factor:{blurb:e.factorsBlurb}}).success(function(o){s.factors.push(o.factor),e.happiness=void 0,e.factorsBlurb=void 0}),e.current_user_moods.pop(),e.current_user_moods.push(s),e.getMood()})}}]),app.config(["$routeProvider","$locationProvider",function(o,t){t.html5Mode({enabled:!0}),o.when("/moods",{templateUrl:"/angular_templates/moods.html.erb",controller:"MoodController",controllerAs:"mood"}).when("/form",{templateUrl:"/angular_templates/form.html.erb",controller:"MoodController",controllerAs:"mood"}).when("/moods/:mood_id",{controller:"MoodController",controllerAs:"mood",templateUrl:"/angular_templates/show.html.erb"}).when("/users/:id",{templateUrl:"/angular_templates/user.html",controller:"HeaderController",controllerAs:"header"}).otherwise({redirectTo:"/"})}]),app.controller("WeatherCtrl",["$http","$routeParams",function(o,t){this.id=t.id,console.log(this.id);var e="http://api.openweathermap.org/data/2.5/forecast/city?id=524901&APPID=eaf6fe412d32917ff999cc01f8b23979",r=this;o.get(e).then(function(o){console.log(o),r.weather=o})}]);